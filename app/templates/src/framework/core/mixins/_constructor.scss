// ===================================================
// Constructor Helper - use only inside Constructors
// ===================================================

// Define the global API Map, otherwise
// the Components throw an error because there
// need a outer API Map for Merging
$api: ();

// Get Data from a API Map
//
// @param {Map} $map - Map
// @param {Arglist} $keys - Keys to fetch
// @return {*}
@function v($map, $keys...) {
  @return map-deep-get($map, $keys...);
}

// Build the Prefix for Constructor Classes
//
// @param {map} $map - API Map
// @return {*}
@function ct($map) {
  @return if(v($map,type) == 'silent', '%', '.');
}

// Integrate Comments in a Constructor with a check
//
// @param {map} $map - API Map
@mixin c-comment($map) {
  @if v($map,type) != 'silent' {
    @at-root {
      @content
    }
  }
}

// Store
// =====
// Store Styles in a Pseudo Container.
// Use only inside bundled Components
//
// @param {string} $name - Storage Name
//
// @example
//   .box {
//     $api: (
//       selector: 'box'
//     );
//
//     @include store(storage) {
//       height: 200px;
//       width: 50px;
//     }
//   }
@mixin store($name) {
  @at-root %#{v($api,selector)}#{$name} {
    @content;
  }
}

// Yield
// =====
// Unload Styles from a Pseudo Container.
// Use only inside bundled Components
//
// @param {string} $name - Storage Name
//
// @example
//   .box {
//     .child {
//       @include yield(storage);
//     }
//   }
//
// @output
//   .box .child {
//     height: 200px;
//     width: 50px;
//   }
@mixin yield($name) {
  @extend %#{v($api,selector)}#{$name};
}
