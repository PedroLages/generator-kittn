// ===================================================
// Color Stack Generator
// ===================================================


// Generate Stack off individual Colors
//
// @requires color-stack()
//
// @param {Map} $config
// - color {List} - Color Values
// - stacks {List} - Individual steps between the color mix
// - attribute {*} - Attribute
// - extend {Bool|*} - For extending the classes with other Classes
@mixin color-stack-generator($config: ()) {
  // Default Setup
  $config: map-merge((
    color: #000 #fff,
    stacks: 30 60 90,
    attribute: background-color,
    extend: false
  ), $config);

  // Mixin need minimum two stack values
  @if length(map-get($config, stacks)) > 1 {

    // Build a Color List
    $cs: color-stack(map-get($config,color), map-get($config,stacks));

    // Generate the Classes
    @for $i from 1 through (length($cs)) {

      &#{map-get($kittn-bem, modifier)}#{$i - 1} {
        // Include the Attribute
        #{map-get($config, attribute)}: nth($cs,$i);

        // When the Classes need to be Extended
        @if map-get($config, extend) {
          @extend #{map-get($config, extend)};
        }
      }
    }
  } @else {
    @warn 'The Color-Stack need more the one stack value.';
  }
}
